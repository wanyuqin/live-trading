# Live Trading

---

**ğŸ“– [English](README.md) | ä¸­æ–‡**

[![Go Version](https://img.shields.io/badge/Go-1.20+-blue.svg)](https://golang.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Go Report Card](https://goreportcard.com/badge/github.com/wanyuqin/live-trading)](https://goreportcard.com/report/github.com/wanyuqin/live-trading)

ä¸€ä¸ªåŸºäºGoè¯­è¨€å¼€å‘çš„å®æ—¶è‚¡ç¥¨äº¤æ˜“ç›‘æ§å·¥å…·ï¼Œæä¾›ä¼˜é›…çš„ç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼ˆTUIï¼‰æ¥ç›‘æ§è‚¡ç¥¨ä»·æ ¼å˜åŒ–å’Œå¸‚åœºè¡Œæƒ…ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **å®æ—¶ç›‘æ§**: æ”¯æŒè‡ªå®šä¹‰è‚¡ç¥¨ä»£ç åˆ—è¡¨çš„å®æ—¶ä»·æ ¼ç›‘æ§
- ğŸ“Š **å¸‚åœºè¡Œæƒ…**: å®æ—¶æ˜¾ç¤ºä¸»è¦æŒ‡æ•°ï¼ˆä¸Šè¯ã€æ·±è¯ã€åˆ›ä¸šæ¿ï¼‰è¡Œæƒ…
- ğŸ¯ **TUIç•Œé¢**: åŸºäºç»ˆç«¯çš„ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒé”®ç›˜å¿«æ·é”®
- âš™ï¸ **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œè¿è¡Œæ—¶åŠ¨æ€æ›´æ–°
- ğŸ”„ **è‡ªåŠ¨é‡å¯**: æ”¯æŒç›‘æ§æœåŠ¡çš„ä¼˜é›…é‡å¯å’Œæ¢å¤
- ğŸ›¡ï¸ **å®‰å…¨å¯é **: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œgoroutineç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Go 1.20 æˆ–æ›´é«˜ç‰ˆæœ¬
- ç½‘ç»œè¿æ¥ï¼ˆç”¨äºè·å–è‚¡ç¥¨æ•°æ®ï¼‰

### å®‰è£…

1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/wanyuqin/live-trading.git
cd live-trading
```

2. æ„å»ºé¡¹ç›®
```bash
go build -o live-trading main.go
```

3. è¿è¡Œç¨‹åº
```bash
./live-trading
```

### ä½¿ç”¨è‡ªå®šä¹‰é…ç½®

```bash
./live-trading -c /path/to/your/config.yaml
```

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ

- **æ·»åŠ è‚¡ç¥¨**: æŒ‰ `a` é”®ï¼Œè¾“å…¥6ä½è‚¡ç¥¨ä»£ç ï¼ˆå¦‚ï¼š000001ï¼‰
- **åˆ é™¤è‚¡ç¥¨**: æŒ‰ `x` é”®åˆ é™¤å½“å‰é€‰ä¸­çš„è‚¡ç¥¨
- **é€€å‡ºç¨‹åº**: æŒ‰ `Ctrl+C`

### è‚¡ç¥¨ä»£ç æ ¼å¼

- **ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€**: ä»¥ `6` æˆ– `5` å¼€å¤´çš„6ä½æ•°å­—ï¼ˆå¦‚ï¼š600000ï¼‰
- **æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€**: ä»¥ `0`ã€`1`ã€`3` å¼€å¤´çš„6ä½æ•°å­—ï¼ˆå¦‚ï¼š000001ï¼‰
- **æŒ‡æ•°**: æ”¯æŒä¸»è¦å¸‚åœºæŒ‡æ•°ï¼ˆ000001ã€399001ã€399006ï¼‰

### é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶é»˜è®¤ä½ç½®ï¼š`~/.live_trading/trading.yaml`

```yaml
watchList:
  stock:
    - "000001"  # ä¸Šè¯æŒ‡æ•°
    - "600000"  # æµ¦å‘é“¶è¡Œ
    - "000002"  # ä¸‡ç§‘A
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
live-trading/
â”œâ”€â”€ cmd/                    # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ internal/              # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ configs/          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ domain/           # é¢†åŸŸå±‚ï¼ˆå®ä½“ã€æœåŠ¡ã€ä»“å‚¨ï¼‰
â”‚   â”œâ”€â”€ infrastructure/   # åŸºç¡€è®¾æ–½å±‚ï¼ˆAPIé›†æˆï¼‰
â”‚   â”œâ”€â”€ views/            # è§†å›¾å±‚ï¼ˆUIç»„ä»¶ï¼‰
â”‚   â””â”€â”€ watcher/          # ç›‘æ§å™¨
â”œâ”€â”€ tools/                 # å·¥å…·åŒ…
â””â”€â”€ main.go               # ç¨‹åºå…¥å£
```

### æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Go 1.20+
- **UIæ¡†æ¶**: [Bubble Tea](https://github.com/charmbracelet/bubbletea)
- **å‘½ä»¤è¡Œ**: [Cobra](https://github.com/spf13/cobra)
- **é…ç½®**: YAML
- **æ•°æ®æº**: ä¸œæ–¹è´¢å¯ŒAPI

## ğŸ”§ å¼€å‘

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

1. å®‰è£…ä¾èµ–
```bash
go mod download
```

2. è¿è¡Œæµ‹è¯•
```bash
go test ./...
```

3. æ„å»ºå¼€å‘ç‰ˆæœ¬
```bash
go build -o live-trading-dev main.go
```

### é¡¹ç›®ç»“æ„è¯´æ˜

- **Domain Layer**: åŒ…å«ä¸šåŠ¡é€»è¾‘ã€å®ä½“å®šä¹‰å’ŒæœåŠ¡æ¥å£
- **Infrastructure Layer**: å¤„ç†å¤–éƒ¨APIè°ƒç”¨å’Œæ•°æ®æŒä¹…åŒ–
- **Views Layer**: ç®¡ç†ç”¨æˆ·ç•Œé¢å’Œäº¤äº’é€»è¾‘
- **Watcher Layer**: è´Ÿè´£æ•°æ®ç›‘æ§å’Œæ›´æ–°

## ğŸ“Š æ•°æ®æº

æœ¬é¡¹ç›®ä½¿ç”¨ä¸œæ–¹è´¢å¯Œï¼ˆeastmoney.comï¼‰çš„å…¬å¼€APIä½œä¸ºæ•°æ®æºï¼š

- **å®æ—¶è¡Œæƒ…**: é€šè¿‡SSEï¼ˆServer-Sent Eventsï¼‰è·å–
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒå¤šä¸ªAPIæœåŠ¡å™¨éšæœºé€‰æ‹©
- **æ•°æ®å­—æ®µ**: åŒ…å«ä»·æ ¼ã€æ¶¨è·Œå¹…ã€æˆäº¤é‡ç­‰å…³é”®ä¿¡æ¯

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### [æœªå‘å¸ƒ]

- [ ] ä¼˜åŒ–é”™è¯¯å¤„ç†æœºåˆ¶
- [ ] å®ç°è‚¡ç¥¨æ·»åŠ /åˆ é™¤æ—¶çš„å¹³æ»‘åˆ·æ–°
- [ ] å¢åŠ æ›´å¤šæŠ€æœ¯æŒ‡æ ‡
- [ ] æ”¯æŒå†å²æ•°æ®æŸ¥è¯¢

### [å½“å‰ç‰ˆæœ¬]

- [x] åˆ é™¤é€‰è‚¡ä»£ç åŠŸèƒ½
- [x] å¸‚åœºè¡Œæƒ…ç›‘æ§
- [x] é€šè¿‡contexté‡å¯ç›‘æ§
- [x] è‡ªå®šä¹‰é…ç½®æ–‡ä»¶æ”¯æŒ
- [x] åŸºç¡€TUIç•Œé¢

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Bubble Tea](https://github.com/charmbracelet/bubbletea) - ä¼˜ç§€çš„TUIæ¡†æ¶
- [Cobra](https://github.com/spf13/cobra) - å¼ºå¤§çš„å‘½ä»¤è¡Œæ¡†æ¶
- [ä¸œæ–¹è´¢å¯Œ](http://www.eastmoney.com/) - æä¾›è‚¡ç¥¨æ•°æ®API

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [https://github.com/wanyuqin/live-trading](https://github.com/wanyuqin/live-trading)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/wanyuqin/live-trading/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
